# 3L3V8R - Teenage Engineering Inspired Dual Audio System

A beautifully designed mobile app inspired by Teenage Engineering's aesthetic, combining dual YouTube playback with multiple audio sources. Perfect for learning, studying, or any scenario where you want to mix audio from different sources.

## NEW: Dual UI Modes üéÆ

3L3V8R now features **two distinct interface modes** that you can toggle between:

### Classic Mode
The original, full-featured interface with all controls and settings visible. Perfect for power users who want complete control over their audio mixing experience.

### Console Mode (Operator Mode)
A **physical device-inspired interface** that transforms your screen into a retro-future electronic instrument:
- **Physical device aesthetic** - Your phone becomes a Teenage Engineering-style pocket operator
- **Big center dial** - Massive glowing control dial for master gain
- **Synthwave colors** - Uses the same beautiful color palette from your audio modes
- **Bulky tactile controls** - Large, satisfying buttons and switches
- **Circuit-bent design** - Inspired by retro music gear, Gameboy, and PSP layouts
- **Mode selection buttons** - Quick-access physical buttons at the bottom
- **Glowing borders** - Dynamic neon glow that pulses with your selected mode
- **Minimal text** - Clean, focused operator interface
- **Serial number branding** - "3L3V8R-CONSOLE" with mode indicator

**Toggle between modes:** Use the glowing capsule switch at the top of the screen
- Instantly swaps the entire UI layout (no reload needed)
- Your preference is automatically saved and persists across sessions
- Both modes control the same underlying audio system

## Design Philosophy

3L3V8R features a **Teenage Engineering (OP-1/OP-Z/PO-Series) aesthetic** with:
- Monospaced engineering fonts with increased letter spacing
- Clean, minimal interface with retro-tech vibes
- Mode-based color system (FOCUS, STUDY, CHILL, FLOW, DEEP)
- Animated controls with subtle glows
- **Dynamic border glow accents** that pulse based on active mode
- CRT-style grain overlay on video
- Firmware-style HUD footer
- Professional depth with soft shadows and textures
- **Dynamic colored outline around 3L3V8R logo** that changes with each mode
- **Splash screen** with neon mode-based glow on app launch

## Features

### Audio Modes üé®
Switch between 5 different modes, each with its own color accent and optimized for different use cases:
- **FOCUS** (Orange) - Deep work and concentration
- **STUDY** (Cyan) - Learning and studying
- **CHILL** (Purple) - Relaxation and ambient
- **FLOW** (Teal) - High-energy flow state
- **DEEP** (Red) - Deep focus and immersion

Each mode features:
- **Dynamic accent colors** throughout the entire UI
- **Animated border glow** that subtly breathes with the mode color
- **Logo backlight effects** matching the selected mode
- **Unified color scheme** across all controls and indicators

### Channel A: YouTube Tutorial Channel üì∫
- Full YouTube video player with real-time control
- **In-App YouTube Search** - Search and load videos directly from the app
- **YouTube Browser** - Browse full mobile YouTube (m.youtube.com) directly in Channel A
  - Tap the YouTube icon button next to the search icon
  - Full browsing experience with back navigation and close controls
  - Search, browse recommendations, access subscriptions
  - Stays in dark mode matching your theme color
  - Autoplay and picture-in-picture support
- **Instant Notes** - AI-powered note-taking while watching tutorials
- **Loop Section** - Repeat specific video segments for practice and learning
  - Set custom loop start and end points
  - Quick-set buttons to mark current position
  - **Visual loop indicator bar** - Colored overlay shows loop range on progress slider
  - **Real-time markers** - Vertical lines mark exact loop boundaries
  - **Mode-based coloring** - Loop indicator matches audio mode color
  - **"Loop Active" status** - Progress label shows when loop is enabled
  - Perfect for practicing along with tutorials
- **Speed Control** - Adjust playback speed from 0.25x to 2.0x
  - 8 preset speeds for different learning scenarios
  - Slow down for complex topics
  - Speed up for review sessions
  - Note: Works best with YouTube Premium
- **AI Voice Translator** - **Text Translator** for video transcripts
  - Toggle text translation ON/OFF
  - Select target language (English, Spanish, German, Portuguese, Japanese, Chinese)
  - Translates video transcripts to your selected language
  - Access via dedicated button in Channel A controls
- **Video Transcript + AI** - Advanced transcript features with AI-powered analysis
  - **Auto-loads when video is ready** - Transcript starts downloading immediately when video loads
  - **Persistent across navigation** - Transcript stays loaded when you leave and return to the screen
  - Full transcript display with timestamps
  - Search within transcript
  - Jump to specific moments by tapping timestamps
  - Copy entire transcript or sections
  - **Real-time Translation** - Translate transcripts to Spanish, German, Portuguese, Japanese, or Chinese
    - Shows first results immediately (within 2-3 seconds)
    - Continues translating in background while you read
    - Smooth, progressive updates as more content becomes available
    - No infinite loading spinners
  - **Swipe-to-dismiss gesture** - Swipe down to close transcript and return to video
  - **Smart Summarization** - AI-generated summaries with key topics
  - **Q&A Assistant** - Ask questions about video content
  - **Chapter Detection** - Auto-detect and navigate video chapters
  - **Key Concepts Extraction** - Extract code snippets, commands, tools, and concepts
  - **Study Notes Generator** - Convert transcripts into organized study notes
- **Lesson Breakdown** - AI-powered learning extraction for tutorials and teachings
  - **Dual-mode detection** - Intelligently extracts both procedural steps AND conceptual lessons
  - **Action Steps section** - Clean, structured steps with titles and descriptions for how-to content
  - **Key Lessons section** - Important teachings, insights, and wisdom from educational videos
  - **Smart content filtering** - Automatically hides empty sections and shows helpful notices
  - **Tools needed** - Lists required materials and tools for tutorials
  - **Tips & warnings** - Extracts common mistakes and important notes
  - **Interactive Q&A** - Ask AI clarifying questions about any step or lesson
  - **Copy functionality** - Copy individual items or entire breakdown to clipboard
  - **Persistent storage** - Saves last 5 lesson breakdowns locally
  - **Beautiful dark mode UI** - Purple for lessons, white for steps, orange for warnings
  - **Swipe-to-dismiss** - Swipe down to close and return to video
- **External Gain Control (0-100)** - Independent of YouTube's internal volume
- Smooth gain curves prevent clipping and distortion
- Mute toggle with instant response
- Speech activity indicator (green dot when speech detected)
- Mode-based color accents
- CRT grain overlay effect for retro feel
- Native playback controls with progress tracking

### Channel B: Beat / Music Channel üéµ
Choose from multiple audio sources:
- **LOCAL MP3** - Play audio files from your device
- **BANDCAMP** - Stream from Bandcamp
- **MIXCLOUD** - Listen to DJ sets and podcasts
- **APPLE MUSIC** - Access Apple Music (subscription required)
- **External Gain Control (0-100)** - Independent mixing control
- **Auto-Duck indicator** - Shows [DUCK] when Channel B is being lowered

### SmartMix Auto-Duck System üéõÔ∏è
Revolutionary audio ducking that automatically adjusts music when speech is detected:
- **Intelligent Speech Detection** - Monitors Channel A for speech activity
- **Smooth Transitions** - 150ms attack, 800ms release for natural feel
- **Auto-Level Adjustment** - Reduces Channel B by 40% when speech detected
- **Visual Feedback** - Orange indicator dot shows when ducking is active
- **Toggle On/Off** - Easy one-tap control to enable/disable
- **No Abrupt Jumps** - Smooth gain curves prevent jarring audio changes

### Independent Controls
- **Separate Gain Sliders** - Full control over each channel (0-100)
- **External Audio Mixer** - Professional mixing independent of platform controls
- **Master Limiter** - Prevents clipping and distortion at output
- Animated slider glow on touch
- Real-time gain percentage display
- Individual mute toggles
- Clear buttons to reset channels
- SmartMix Auto-Duck toggle with visual feedback

### Animations & Micro-Interactions
- **Border glow effects** that pulse around the entire screen based on active mode (10s breathing cycle)
- **Audio visualizer** - Animated waveform bars behind the video player that react to music
  - 16 bars with smooth, organic animation
  - Colors match the active audio mode (orange for FOCUS, cyan for STUDY, etc.)
  - Full opacity when no video loaded, 20% opacity behind video
  - Toggle on/off in Settings
- Slider glow effects when touched (using react-native-reanimated)
- Smooth spring animations
- Active state indicators
- Status indicator lights for active channels
- 100ms button pulse feedback
- Logo backlight animations with subtle wave movement
- Splash screen fade-in animation (1s) on app launch

### Selectable & Copyable Text
All text content in the app is now **fully selectable and copyable**:
- **Long press** any text to select and copy
- Works in all screens: Transcripts, Lesson Breakdowns, Notes, Q&A responses
- Visible scroll indicators on all scrollable content
- Platform-optimized selection colors (accent-colored on Android)
- Perfect for capturing quotes, code snippets, and important information

### Settings & Preferences ‚öôÔ∏è
Access via the settings icon in the header:
- **Visual Settings**
  - **Audio Visualizer** - Toggle the animated audio visualizer on/off
- **App Version** - View current version and build info
- **Terms of Use** - Review terms and conditions
- **Privacy Policy** - View privacy policy
- **Contact Support** - Get help and report issues
- **Reset App Data** - Clear all settings and return to defaults (with confirmation)

### Instant Notes üìù
Capture and organize learning insights while watching tutorials:
- **Quick Capture** - Tap "Instant Notes" button under Channel A to open note-taking modal
- **AI Expansion** - Type a quick thought and let AI expand it into organized bullet points
- **Save As-Is** - Save quick notes without AI expansion for faster capture
- **Context Tracking** - Each note includes video title and timestamp
- **Session View** - Access all notes via the notes icon in the header
- **Badge Counter** - See how many notes you've captured in the current session
- **Expandable Details** - Tap notes to view original input and video context
- **Easy Management** - Delete individual notes or clear all at once

### User Profile System üë§
Track your learning journey with a personalized profile:
- **Custom Avatar** - Choose from 5 unique gradient avatars (Classic, Energy, Focus, Vibes, Insight)
- **Personal Name** - Customize your profile with your name
- **Daily Streak** - Maintain your learning streak with automatic daily tracking
- **Session Counter** - Track total learning sessions
- **Saved Notes** - Store all your notes permanently (up to 200)
- **Saved Mixes** - Save your favorite audio/video combinations (up to 20)
- **Statistics Dashboard** - View streak, sessions, notes, and saved mixes at a glance
- **Persistent Storage** - All data saved locally with AsyncStorage
- **Profile Management** - Edit name, change avatar, or reset profile anytime

### Premium Design Elements
- **TE Color Palette**:
  - Background: #0E0E0E
  - Orange Highlight: #FF7A00
  - Cyan Glow: #00E3FF
  - Slate Blue Accent: #3A4B74
- **Typography**: Monospace fonts with wide letter spacing
- **Depth**: Soft drop shadows and inner strokes
- **Texture**: Subtle CRT grain overlay
- **Layout**: 12-16px vertical breathing room throughout
- **Firmware HUD**: Bottom status display showing firmware rev and engine load

## How to Use

### Using the SmartMix Auto-Duck System
1. Load a video in Channel A (YouTube tutorial)
2. Load music in Channel B (local MP3 or streaming service)
3. The **SMARTMIX AUTO-DUCK** button is enabled by default (cyan border)
4. When speech is detected in Channel A:
   - Green dot appears next to "GAIN A:" label
   - Channel B automatically lowers by 40%
   - Orange dot appears on the Auto-Duck button
   - "[DUCK]" indicator shows next to "GAIN B:"
5. When speech stops:
   - Channel B smoothly returns to your set level (800ms release)
6. To disable: Tap the **SMARTMIX AUTO-DUCK** button
   - Button border turns gray
   - Auto-ducking stops working
   - Both channels play at your set gain levels

### Selecting an Audio Mode
1. At the top of the screen, tap any mode: FOCUS ‚Ä¢ STUDY ‚Ä¢ CHILL ‚Ä¢ FLOW ‚Ä¢ DEEP
2. The app's accent color changes to match your selected mode
3. All controls update with the new color scheme

### Channel A - Loading Videos
1. **Option 1: Search YouTube**
   - Tap the search icon (magnifying glass) in the Channel A header
   - Type your search query (e.g., "React tutorial", "Lofi beats", "Coding podcast")
   - Tap the search button or press Enter
   - Browse results with thumbnails, titles, and channel names
   - Tap any result to load it into the player
   - Video starts playing automatically with all mixer controls active

2. **Option 2: Browse YouTube**
   - Tap the YouTube icon button next to the search icon
   - The full mobile YouTube browser loads in Channel A
   - Browse your feed, search, access subscriptions, and explore
   - Navigate using the back arrow (top left) to go back
   - Tap close (top right) to exit the browser
   - Watch videos directly in the browser with full YouTube controls

3. **Option 3: Paste URL**
   - Tap the empty video area or "INPUT URL" button
   - Paste any YouTube URL in the modal
   - Tap "LOAD" or press Enter
   - Video starts playing automatically

4. **Playback Controls**
   - Use the volume slider to adjust playback
   - Tap the speaker icon to mute/unmute
   - Tap "More" to access advanced features:
     - **Loop Section**: Set start/end points to repeat a section
     - **Speed Control**: Adjust playback speed (0.25x - 2.0x)
     - **Transcript + AI**: View transcript with AI analysis
     - **AI Chat**: Ask questions about video content
     - **Translate**: Translate transcript to other languages
   - Tap "CLR" to remove the video

### Using Loop Section
1. Load a video in Channel A
2. Tap "More" to expand advanced controls
3. Tap "Loop Section"
4. Set your loop points:
   - Drag the start slider OR tap "Set Start Here" at current time
   - Drag the end slider OR tap "Set End Here" at current time
5. Tap "ENABLE LOOP" to activate
6. The video will now loop between your selected start and end points
7. To disable: Open Loop Section modal and tap "DISABLE"

### Using Speed Control
1. Load a video in Channel A
2. Tap "More" to expand advanced controls
3. Tap "Speed Control"
4. Select a speed preset:
   - 0.25x - Extra slow for complex topics
   - 0.5x - Slow motion
   - 0.75x - Slightly slower
   - 1.0x - Normal speed
   - 1.25x - Slightly faster
   - 1.5x - Fast
   - 1.75x - Very fast
   - 2.0x - Maximum speed
5. Tap "DONE" to close
6. Note: Speed control works best with YouTube Premium. Use YouTube app controls for full speed support.

### Channel B - Selecting Audio Source
1. Choose an audio source from the horizontal selector:
   - **LOCAL MP3** - Select audio files from your device
   - **BANDCAMP** - Browse and stream from Bandcamp
   - **MIXCLOUD** - Access DJ sets and radio shows
   - **APPLE MUSIC** - Stream from Apple Music
2. For LOCAL MP3: Tap "SELECT MP3" to pick a file
3. Use PLAY/PAUSE to control playback
4. Adjust volume with the slider (local MP3 only)
5. Tap "CLEAR" to switch sources

### Volume Control
- **Drag GAIN sliders** - Move left to decrease, right to increase (0-100)
- **External Mixer** - True gain control independent of platform volume
- **Watch for glow** - Sliders light up when touched with spring animation
- **See real-time values** - Percentage displays update live
- **Independent mixing** - Adjust each channel separately
- **Auto-Duck** - Channel B automatically lowers when speech detected in Channel A
- **Smooth curves** - All gain changes use smooth easing to prevent clicks

### Taking Notes
1. **Start a note**: Tap "Instant Notes" button under Channel A controls
2. **Quick capture**: Type a short thought or key concept (up to 200 characters)
3. **Choose your workflow**:
   - **Expand with AI** - Let OpenAI GPT-4o organize your note into clear bullet points
   - **Save as-is** - Save your note exactly as typed for faster capture
4. **Review preview**: If using AI expansion, review the organized version
5. **Save**: Tap "SAVE NOTE" to add it to your session
6. **View all notes**: Tap the notes icon (with badge counter) in the header
7. **Manage notes**:
   - Tap any note to expand and see original input and video context
   - Delete individual notes with the trash icon
   - Clear all notes with "CLEAR ALL" button

### Using Video Transcript + AI Features
1. **Open transcript**: Tap "Video Transcript + AI" button under Channel A controls (appears when video is loaded)
2. **Automatic caption extraction**: The app uses a bulletproof 3-method fallback system:
   - ‚úÖ **Method 0**: Cache check (instant if previously loaded)
   - ‚úÖ **Method 1**: youtube-caption-extractor (fast, works on most videos)
   - ‚úÖ **Method 2**: youtube-transcript package (reliable fallback)
   - ‚è±Ô∏è **15-second timeout per method** prevents infinite loading (30 seconds max total)
   - ‚úÖ **Smart caching**: First download caches transcript for 7 days - repeat visits load instantly
   - ‚úÖ **Offline access**: View cached transcripts even without internet
   - ‚úÖ **Swipe to dismiss**: Swipe down anywhere on the transcript screen to close and return to video
   - ‚ùå **If no captions**: You'll see a helpful error screen explaining why and what to do
3. **Navigate tabs** (when transcript is available):
   - **TRANSCRIPT** - View full transcript with timestamps
     - Search for specific words or phrases
     - Tap any timestamp to jump to that moment in the video
     - Copy full transcript or individual segments
   - **SUMMARY** - Get AI-generated summary with key topics and reading time
   - **CHAPTERS** - View auto-detected chapters with timestamps
     - Tap any chapter to jump directly to that section
   - **CONCEPTS** - Extract key information:
     - Code snippets mentioned
     - Terminal commands
     - Tools and frameworks discussed
     - Important concepts explained
     - Tap any item to copy it
   - **Q&A** - Ask questions about the video content
     - Type your question and get AI-powered answers
     - View confidence levels (high/medium/low)
     - Jump to relevant timestamps
     - Copy answers for reference
   - **NOTES** - Generate organized study notes
     - AI converts transcript into structured bullet points
     - Perfect for review and learning
     - Copy entire notes for external use
4. **No captions?** The error screen provides:
   - Clear explanation of why transcript is unavailable
   - Tips on finding videos with captions
   - Suggestion to use Instant Notes as alternative
   - Retry button if you want to check again
5. **Pro tip**: Most educational videos, tutorials, and lectures have auto-generated captions. Look for the [CC] icon on YouTube before loading to ensure transcript features will work
6. **Close**: Tap X button to return to video player

### Using Lesson Breakdown
1. **Load a video**: Load any tutorial, lecture, or educational video in Channel A
2. **Open Lesson Breakdown**: Tap "Lesson Breakdown" button under Channel A controls (next to Video Transcript + AI)
3. **AI processing**: The app automatically:
   - Extracts the video transcript
   - Sends it to AI for intelligent analysis
   - Detects both procedural steps AND conceptual teachings
   - Generates structured breakdown with titles and descriptions
   - Lists tools/materials needed
   - Extracts tips and warnings
4. **View results**: Browse sections (empty sections are hidden):
   - **Tools Needed** (cyan) - Required materials and tools for tutorials
   - **Action Steps** (white) - Numbered procedural instructions with titles and descriptions
   - **Key Lessons** (purple) - Important teachings, insights, and wisdom with explanations
   - **Tips & Warnings** (orange) - Important notes and common mistakes
5. **Interactive Q&A**: Tap the question icon on any step or lesson to ask AI clarifying questions
6. **Copy items**: Tap any step, lesson, tool, or tip to copy it to your clipboard
7. **Copy all**: Tap the copy icon in the header to copy the entire breakdown
8. **Cached results**: Lesson breakdowns are automatically saved for the last 5 videos
9. **Swipe to close**: Swipe down anywhere to return to the video
10. **Pro tip**: Works with both step-by-step tutorials AND teaching-style videos (lectures, spiritual talks, history lessons, etc.)

### Managing Your Profile
1. **Create profile**: Tap the profile icon in the header
2. **Choose avatar**: Select from 5 unique gradient avatars
3. **Set your name**: Enter your name (up to 30 characters)
4. **View stats**: See your daily streak, total sessions, saved notes, and mixes
5. **Save session notes**: Tap "SAVE SESSION NOTES" to permanently store current notes
6. **Save mixes**: Tap the save icon in header to save your current audio/video setup
7. **Daily streak**: Opens app each day to maintain and grow your streak
8. **Edit profile**: Tap "EDIT" to change name or avatar
9. **Reset**: Use "RESET PROFILE" to start fresh (deletes all data)

### Using Text Translator
1. **Open Text Translator**: Tap "Text Translator" button under Channel A controls
2. **Enable the feature**: Toggle "Text Translation ON" at the top
3. **Select language**: Choose your target language:
   - English (Original)
   - Spanish
   - German
   - Portuguese
   - Japanese
   - Chinese
4. **Use with transcripts**: When enabled, use the translate button in the transcript view to see translated text
5. **Settings persist**: Your language preference is saved across sessions

## Design Features

### Teenage Engineering Aesthetic
- **3L3V8R Loading Screen** - Branded loading overlay with pulsing neon glow
  - Appears when YouTube videos are loading
  - Matches current audio mode color (orange, cyan, purple, teal, red)
  - Smooth fade in/out transitions
  - Replaces generic loading states with branded experience
- **Minimal Labels**: Thin, uppercase text with wide tracking
- **Section Headers**: "A: YOUTUBE TUTORIAL CHANNEL" / "B: BEAT / MUSIC CHANNEL"
- **Firmware Info**: "TE-001 FIRMWARE Rev. 3L3V8R 2025-ALPHA"
- **Status Indicators**: Small colored dots show channel activity
- **Horizontal Source Selector**: Clean, scrollable button layout
- **Engineering Fonts**: Monospace throughout for technical feel

### Animation Details
- Slider glow activates on touch with spring animation
- Mode buttons highlight with background color
- Status lights change color based on activity
- Smooth transitions between states
- Button borders pulse on press

### Layout Philosophy
- Dark background (#0E0E0E) for extended use
- Consistent 16-20px padding and margins
- Rounded corners (2px) for subtle softness
- 1-2px borders with inner strokes
- Proper vertical spacing for breathing room
- Centered, deliberate panel placement

## Tech Stack

- **React Native 0.76.7** with **Expo SDK 53**
- **react-native-youtube-iframe** for native YouTube playback
- **@react-native-community/slider** for gain controls
- **react-native-reanimated v3** for smooth animations
- **Zustand** for lightweight state management
- **Expo Audio** for local MP3 playback with gain control
- **React Native WebView** for web audio sources and YouTube control
- **Custom Audio Mixer** - External gain control system with:
  - Smooth gain curves and interpolation
  - Speech detection for auto-duck
  - Master limiter to prevent clipping
  - Soft saturation for natural sound
  - **YouTube Volume Controller** - Continuous volume monitoring (100ms intervals)
  - **Dual-channel mixing** - Independent gain control for YouTube and local audio
- **AI-Powered Features** - Advanced transcript analysis with OpenAI GPT-4o:
  - YouTube transcript extraction with **bulletproof dual-method fallback system**:
    - Method 0: Cache (instant loading)
    - Method 1: youtube-caption-extractor (fast, works on most videos)
    - Method 2: youtube-transcript package (reliable fallback)
  - **15-second timeout per method** - prevents infinite loading
  - **Smart caching system** - Transcripts cached locally for 7 days for instant loading
  - Offline transcript access after first download
  - Smart summarization with key topics
  - Q&A assistant for video content
  - Auto chapter detection
  - Key concepts extraction (code, commands, tools)
  - Study notes generation
- **NativeWind** (Tailwind CSS) for styling
- **TypeScript** for type safety
- **Ionicons** for clean iconography

## App Structure

```
/home/user/workspace/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MixwaveScreen.tsx       # Main TE-styled screen with mixer and YouTube browser
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConsoleModeScreen.tsx   # Console Mode - Physical device UI with big dial
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SplashScreen.tsx        # Animated splash screen with neon glow
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SettingsScreen.tsx      # Settings and preferences screen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotesScreen.tsx         # Session notes display screen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TranscriptScreen.tsx    # Video transcript viewer with AI features
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActionStepsScreen.tsx   # AI-generated lesson breakdown viewer (steps + teachings)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfileScreen.tsx       # User profile and stats screen
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotesModal.tsx          # AI-powered note-taking modal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VoiceAssistModal.tsx    # Text Translator configuration modal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioVisualizer.tsx     # Animated audio visualizer component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIModeToggle.tsx        # Classic/Console mode toggle switch
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConsoleModeLayout.tsx   # Console Mode wrapper component
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ youtube-search.ts       # YouTube Data API v3 integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ youtube-transcript.ts   # Reliable transcript extraction using youtube-caption-extractor
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transcript-ai.ts        # AI-powered transcript analysis (including Lesson Breakdown)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat-service.ts         # OpenAI & Grok API integration
‚îÇ   ‚îú‚îÄ‚îÄ state/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ appStore.ts             # Zustand store with audio modes & notes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profileStore.ts         # Profile store with AsyncStorage persistence
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ voiceAssistStore.ts     # Text Translator settings with AsyncStorage persistence
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ actionStepsStore.ts     # Lesson Breakdown cache with AsyncStorage persistence
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uiModeStore.ts          # UI mode (Classic/Console) with AsyncStorage persistence
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audioMixer.ts           # External audio mixer engine
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ speechDetector.ts      # Speech detection for auto-duck
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ youtubeVolumeController.ts  # YouTube volume sync controller
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ translator.ts           # Google Translate API integration
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ assets/                          # App assets
‚îî‚îÄ‚îÄ App.tsx                          # Main entry point with tab navigation
```

## Technical Implementation

### Audio Mixer Architecture

**Challenge:** React Native WebViews don't expose audio streams to Web Audio API, preventing direct MediaElementSourceNode creation from YouTube iframes.

**Solution:** Hybrid approach using YouTube IFrame API for Channel A control:
- **Channel A (YouTube):** Uses YouTube's native `setVolume()` API with 100ms sync intervals
- **Channel B (Local Audio):** Direct Expo Audio API control with true gain nodes
- **External Mixer:** Calculates gain values and coordinates both channels
- **Auto-Duck:** Monitors Channel A activity, smoothly adjusts Channel B (150ms attack, 800ms release)

Both channels appear unified to the user, with the mixer handling synchronization and ducking logic.

## State Management

The app uses Zustand with the following state:

**State Management:**
- `audioMode`: Current mode (FOCUS, STUDY, CHILL, FLOW, DEEP)
- Each mode has unique accent color and background

**Channel A (Main Video):**
- `url`: YouTube URL
- `videoId`: Extracted video ID
- `volume`: 0-100 percentage
- `isPlaying`: Playback state
- `isMuted`: Mute state

**Channel B (Music):**
- Same structure as Channel A
- Additional music source selection (local, bandcamp, mixcloud, apple-music)

**Session Notes:**
- `sessionNotes`: Array of note objects with:
  - `id`: Unique identifier
  - `timestamp`: Creation time
  - `rawInput`: Original user input
  - `expandedNote`: AI-organized version
  - `videoTitle`: Associated video title (optional)
  - `videoTimestamp`: Video position when note was created (optional)

**User Profile (AsyncStorage):**
- `name`: User's name
- `avatar`: Selected avatar ID (avatar1-5)
- `savedMixes`: Array of saved audio/video configurations
- `allNotes`: Permanently saved notes from all sessions
- `dailyStreak`: Consecutive days of app usage
- `lastActiveDate`: Last date app was opened
- `totalSessions`: Total number of learning sessions
- `createdAt`: Profile creation timestamp

**Text Translator (AsyncStorage):**
- `voiceAssistEnabled`: Boolean toggle for text translation
- `voiceAssistTargetLang`: Output/translation language (en, es, de, pt, ja, zh-CN)

**Settings:**
- `visualizerEnabled`: Boolean to show/hide audio visualizer

## Use Cases

### Students & Learners
- Watch coding tutorials with lofi focus music
- Study lectures with ambient background sounds
- Language learning with cultural music
- Take notes while listening to educational podcasts
- **Capture key concepts instantly with AI-powered note expansion**
- **Build organized study guides from tutorial sessions**
- **Extract transcripts from lectures for review and sharing**
- **Ask AI questions about video content without rewatching**
- **Auto-generate chapter breakdowns for long lectures**
- **Copy code snippets and commands mentioned in tutorials**
- **Convert tutorials into step-by-step guides with detailed descriptions**
- **Extract key teachings and insights from educational videos**
- **Get organized breakdowns of both how-to steps AND conceptual lessons**
- **Ask clarifying questions about specific steps or teachings**

### Developers & Designers
- Code-along tutorials with concentration beats
- Design walkthroughs with creative inspiration
- Tech talks with productivity music
- Debug sessions with calming ambient audio
- **Quick note-taking during code-along sessions**
- **Document API patterns and implementation notes**
- **Extract code snippets and terminal commands from tutorials**
- **Search transcripts for specific function names or concepts**
- **Generate summaries of technical talks for team sharing**
- **Ask questions about implementation details mentioned in videos**
- **Generate step-by-step implementation guides from dev tutorials**
- **Extract key architectural insights and design patterns from talks**
- **Ask clarifying questions about specific coding steps or concepts**

### Creative Professionals
- Video editing with reference tutorials
- Music production with tutorial videos
- Content creation with background audio
- Research with ambient soundscapes

### Wellness & Focus
- Meditation videos with nature sounds
- Workout tutorials with motivational music
- Yoga instruction with calming audio
- Focus sessions with binaural beats

## Performance Notes

- Optimized Zustand selectors prevent unnecessary re-renders
- Lazy loading of YouTube players
- Efficient animation with react-native-reanimated
- Minimal dependencies
- Clean component architecture
- Proper memory cleanup for audio players

## Why 3L3V8R?

**Inspired by Teenage Engineering's design philosophy:**
- Function over form, but beautiful function
- Minimal, purposeful interface
- Engineering precision in every detail
- Retro-futurism meets modern technology
- Professional-grade tools for creative work

**Key Differentiators:**
- Mode-based workflow optimization
- Premium Teenage Engineering aesthetic
- Multiple audio source options
- Smooth, delightful animations
- No ads, no clutter, no compromise

**3L3V8R**: Where retro design meets modern productivity.

## Color Reference

### Mode Colors
- **FOCUS**: #FF7A00 (Electric Orange)
- **STUDY**: #00E3FF (Bright Cyan)
- **CHILL**: #8B5CF6 (Soft Purple)
- **FLOW**: #14B8A6 (Vibrant Teal)
- **DEEP**: #EF4444 (Bold Red)

### Base Palette
- **Background**: #0E0E0E (Deep Black)
- **Panel**: #0a0a0a (True Black)
- **Borders**: #2a2a2a (Dark Gray)
- **Text Primary**: #FFFFFF (White)
- **Text Secondary**: #999999 (Medium Gray)
- **Text Tertiary**: #666666 (Dark Gray)

### Platform Colors
- **Bandcamp**: #1DA0C3
- **Mixcloud**: #FF7F00
- **Apple Music**: #FC3C44

## Typography

All text uses **monospace** font with increased letter spacing:
- Headers: 3-4px letter spacing
- Body: 1-2px letter spacing
- Buttons: 2-3px letter spacing (uppercase)
- Labels: 2px letter spacing (uppercase)

---

**TE-001 FIRMWARE Rev. 3L3V8R 2025-ALPHA ENGINE**
